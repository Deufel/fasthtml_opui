

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## core

## Get CSS

------------------------------------------------------------------------

### get_css

>  get_css (static_dir=None)

*Sync OpenProps and OpenProps UI files to local static directory*

## Update Jupyter Styles

``` python
def apply_global_style(css_file):
    """
    Applies a global stylesheet via CDN this will change the behavior of all show() untill notebook is restarted.
    Note: This will affect ALL elements on the page, including previously rendered ones.
    """
    display(HTML(f"<link rel='stylesheet' href='{css_file}'>"))
    return 


apply_global_style("nbs/static/css/main.css")
```

<link rel='stylesheet' href='nbs/static/css/main.css'>

``` python
"""
CSS Flattener - Combines all CSS files from OpenProps UI structure into a single flat file
"""

import os
import re
from pathlib import Path


def flatten_css(css_dir=None, output_file=None):
    """
    Combine all CSS files from OpenProps UI structure into a single flat file
    
    Args:
        css_dir (str): Path to the CSS directory (default: 'static/css')
        output_file (str): Path to the output file (default: 'static/css/flat.css')
    """
    # Set default paths if not provided
    css_dir = Path(css_dir or 'static/css')
    output_file = Path(output_file or css_dir / 'flat.css')
    
    if not css_dir.exists() or not css_dir.is_dir():
        raise ValueError(f"CSS directory not found: {css_dir}")
    
    # Read the main.css file first to determine import order
    main_css_path = css_dir / 'main.css'
    if not main_css_path.exists():
        raise ValueError(f"main.css not found in {css_dir}")
    
    main_css = main_css_path.read_text(encoding='utf-8')
    
    # Extract layer information
    layer_match = re.search(r'@layer\s+(.*?);', main_css)
    layers = []
    if layer_match:
        layers = [layer.strip() for layer in layer_match.group(1).split(',')]
        print(f"Found layers: {', '.join(layers)}")
    
    # Extract import statements
    import_pattern = re.compile(r'@import\s+["\'](.+?)["\'](?:\s+layer\((.*?)\))?;')
    imports = []
    
    for match in import_pattern.finditer(main_css):
        path = match.group(1)
        layer = match.group(2) if match.group(2) else None
        imports.append((path, layer))
    
    # Process imports
    combined_css = []
    processed_files = set()
    
    # Add layer declaration if layers were found
    if layers:
        combined_css.append(f"@layer {', '.join(layers)};")
    
    for path, layer in imports:
        # Convert relative paths
        if path.startswith('./'):
            file_path = css_dir / path[2:]
        elif path.startswith('opbeta/'):
            file_path = css_dir / path
        else:
            file_path = css_dir / path
        
        if not file_path.exists():
            print(f"Warning: File not found: {file_path}")
            continue
        
        # Avoid processing files more than once
        if str(file_path) in processed_files:
            continue
        
        # Read the file
        css_content = file_path.read_text(encoding='utf-8')
        
        # Skip import statements within the imported file
        css_content = re.sub(r'@import\s+["\'].*?["\'].*?;', '', css_content)
        
        # Add layer wrapper if specified
        if layer:
            combined_css.append(f"/* From: {path} */")
            combined_css.append(f"@layer {layer} {{")
            combined_css.append(css_content.strip())
            combined_css.append("}")
        else:
            combined_css.append(f"/* From: {path} */")
            combined_css.append(css_content.strip())
        
        combined_css.append("")  # Empty line for separation
        processed_files.add(str(file_path))
    
    # Save combined CSS to output file
    output_file.parent.mkdir(parents=True, exist_ok=True)
    output_file.write_text("\n".join(combined_css), encoding='utf-8')
    
    print(f"\nFlattened CSS created at: {output_file}")
    print(f"Combined {len(processed_files)} CSS files")


# if __name__ == "__main__":
#     import argparse
    
#     parser = argparse.ArgumentParser(description="Flatten CSS files into a single file")
#     parser.add_argument("--css-dir", "-d", help="Path to CSS directory (default: static/css)")
#     parser.add_argument("--output", "-o", help="Output file path (default: static/css/flat.css)")
    
#     args = parser.parse_args()
    
#     try:
#         flatten_css(args.css_dir, args.output)
#     except Exception as e:
#         print(f"Error: {str(e)}")
```

``` python
css_flat = "https://github.com/Deufel/css/blob/f183a433e7225f466c595e57a7d066c6bbfc25bb/static/css/flat.css"
```

``` python
from IPython.display import HTML

def create_styled_iframe(content, css_url="https://cdn.jsdelivr.net/gh/Deufel/css@030f494da6ab7876da9077f878dfd84fcfbb3bc2/css/main.css", height="300px", width="100%"):
    iframe_html = f"""
    <iframe srcdoc='
        <!DOCTYPE html>
        <html>
        <head>
            <link rel="stylesheet" href="{css_url}">
            <script src="https://unpkg.com/htmx.org@1.9.10"></script>
        </head>
        <body>
            {content}
        </body>
        </html>
    ' style="width: {width}; height: {height}; border: 1px solid #ddd; border-radius: 4px;"></iframe>
    """
    return HTML(iframe_html)

html_content = """
<div class="card elevated">
  <hgroup>
    <h2>Test Component</h2>
  </hgroup>
  <div class="content">
    <p>This is a test of the OpenProps styling</p>
    <button class="button">Primary Button</button>
    <button class="button secondary">Secondary Button</button>
  </div>
</div>
"""
display(create_styled_iframe(html_content))
```

    <iframe srcdoc='
        <!DOCTYPE html>
        <html>
        <head>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Deufel/css@030f494da6ab7876da9077f878dfd84fcfbb3bc2/css/main.css">
            <script src="https://unpkg.com/htmx.org@1.9.10"></script>
        </head>
        <body>
            &#10;<div class="card elevated">
  <hgroup>
    <h2>Test Component</h2>
  </hgroup>
  <div class="content">
    <p>This is a test of the OpenProps styling</p>
    <button class="button">Primary Button</button>
    <button class="button secondary">Secondary Button</button>
  </div>
</div>
&#10;        </body>
        </html>
    ' style="width: 100%; height: 300px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
    &#10;

``` python
from IPython.display import HTML

def create_styled_iframe(content, css_url="https://cdn.jsdelivr.net/gh/Deufel/css@ebf95dcad18a553ab53c83f76b5ab026cb91bc21/static/css/main.css", height="300px", width="100%"):
    iframe_html = f"""
    <iframe srcdoc='
        <!DOCTYPE html>
        <html>
        <head>
            <link rel="stylesheet" href="{css_url}">
            <script src="https://unpkg.com/htmx.org@1.9.10"></script>
        </head>
        <body>
            {content}
        </body>
        </html>
    ' style="width: {width}; height: {height}; border: 1px solid #ddd; border-radius: 4px;"></iframe>
    """
    return HTML(iframe_html)

html_content = """
<div class="card elevated padding">
  <hgroup>
    <h2>Test Component</h2>
  </hgroup>
  <div class="content">
    <p>This is a test of the OpenProps styling</p>
    <button class="button">Default</button>
    <button class="button outlined">Outlined</button>
    <button class="button outlined" disabled>Outlined & disabled</button>
    <button class="button tonal">Outlined</button>
    <button class="button elevated">Outlined</button>
  </div>
</div>
"""
display(create_styled_iframe(html_content))
```

    <iframe srcdoc='
        <!DOCTYPE html>
        <html>
        <head>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Deufel/css@ebf95dcad18a553ab53c83f76b5ab026cb91bc21/static/css/main.css">
            <script src="https://unpkg.com/htmx.org@1.9.10"></script>
        </head>
        <body>
            &#10;<div class="card elevated padding">
  <hgroup>
    <h2>Test Component</h2>
  </hgroup>
  <div class="content">
    <p>This is a test of the OpenProps styling</p>
    <button class="button">Default</button>
    <button class="button outlined">Outlined</button>
    <button class="button outlined" disabled>Outlined & disabled</button>
    <button class="button tonal">Outlined</button>
    <button class="button elevated">Outlined</button>
  </div>
</div>
&#10;        </body>
        </html>
    ' style="width: 100%; height: 300px; border: 1px solid #ddd; border-radius: 4px;"></iframe>
    &#10;

``` python
from fasthtml.common import *

def flat_css_link():
    return Link(
        rel="stylesheet",
        href="https://cdn.jsdelivr.net/gh/Deufel/css@f183a433e7225f466c595e57a7d066c6bbfc25bb/static/css/flat.css",
        type="text/css"
    )

def card_examples():
    return Div(
        H2("Card Examples"),
        Div(
            Button("btn", cls="button outlined margin padding"),
            Div(Div("Outlined", cls="content"), cls="card outlined"),
            Div(Div("Tonal", cls="content"), cls="card tonal"),
            Div(Div("Elevated", cls="content"), cls="card elevated"),
        ),
        P("These cards demonstrate different variants from the Flat CSS library.")
    )

# Preview with Link approach
show(
    flat_css_link(),
    card_examples()
)
```

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Deufel/css@f183a433e7225f466c595e57a7d066c6bbfc25bb/static/css/flat.css" type="text/css">
<div>
  <h2>Card Examples</h2>
  <div>
<button class="button outlined margin padding">btn</button>    <div class="card outlined">
      <div class="content">Outlined</div>
    </div>
    <div class="card tonal">
      <div class="content">Tonal</div>
    </div>
    <div class="card elevated">
      <div class="content">Elevated</div>
    </div>
  </div>
  <p>These cards demonstrate different variants from the Flat CSS library.</p>
</div>

``` python
<link rel="stylesheet" href="{css_url}">
```
